# 13.4 useHover

## 1. 实现思路

检测元素是否被鼠标悬停。

## 2. 代码实现

```typescript
import { useState, useRef, useEffect } from 'react';

function useHover<T extends HTMLElement>() {
  const [value, setValue] = useState(false);
  const ref = useRef<T>(null);

  const handleMouseOver = () => setValue(true);
  const handleMouseOut = () => setValue(false);

  useEffect(() => {
    const node = ref.current;
    if (node) {
      node.addEventListener('mouseenter', handleMouseOver);
      node.addEventListener('mouseleave', handleMouseOut);

      return () => {
        node.removeEventListener('mouseenter', handleMouseOver);
        node.removeEventListener('mouseleave', handleMouseOut);
      };
    }
  }, []);

  return [ref, value] as const;
}

export default useHover;
```

## 3. 使用示例

```tsx
const [hoverRef, isHovered] = useHover();
return <div ref={hoverRef}>{isHovered ? 'Hovered' : 'Normal'}</div>;
```

## 4. 常见问题


