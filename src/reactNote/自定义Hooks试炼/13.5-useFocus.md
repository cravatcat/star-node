# 13.5 useFocus

## 1. 实现思路

检测元素是否获得焦点。

## 2. 代码实现

```typescript
import { useState, useRef, useEffect } from 'react';

function useFocus<T extends HTMLElement>() {
  const [isFocused, setIsFocused] = useState(false);
  const ref = useRef<T>(null);

  const onFocus = () => setIsFocused(true);
  const onBlur = () => setIsFocused(false);

  useEffect(() => {
    const node = ref.current;
    if (node) {
      node.addEventListener('focus', onFocus);
      node.addEventListener('blur', onBlur);

      return () => {
        node.removeEventListener('focus', onFocus);
        node.removeEventListener('blur', onBlur);
      };
    }
  }, []);

  return [ref, isFocused] as const;
}

export default useFocus;
```

## 3. 使用示例

```tsx
const [inputRef, isFocused] = useFocus();
return <input ref={inputRef} style={{ borderColor: isFocused ? 'blue' : '#ccc' }} />;
```

## 4. 常见问题


