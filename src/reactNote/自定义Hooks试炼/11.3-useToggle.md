# 11.3 useToggle

## 1. 实现思路

管理布尔值状态，常用于 Modal、开关等场景。

## 2. 代码实现

```typescript
import { useState, useCallback } from 'react';

function useToggle(initialValue: boolean = false) {
  const [state, setState] = useState(initialValue);

  const toggle = useCallback((value?: any) => {
    // 如果传入了 boolean 值，则直接设置，否则取反
    setState(prev => typeof value === 'boolean' ? value : !prev);
  }, []);

  const setTrue = useCallback(() => setState(true), []);
  const setFalse = useCallback(() => setState(false), []);

  return {
    state,
    toggle,
    setTrue,
    setFalse,
  };
}

export default useToggle;
```

## 3. 使用示例

```tsx
const { state: isVisible, toggle, setTrue, setFalse } = useToggle();

return (
  <>
    <button onClick={toggle}>Toggle</button>
    <button onClick={setTrue}>Open</button>
    <button onClick={setFalse}>Close</button>
    {isVisible && <div>Content</div>}
  </>
);
```

## 4. 常见问题

- **参数灵活**：toggle 函数支持传入特定值或直接切换。
