# 13.3 useScroll

## 1. 实现思路

监听元素的滚动位置。

## 2. 代码实现

```typescript
import { useState, useEffect, RefObject } from 'react';

function useScroll(ref: RefObject<HTMLElement>) {
  const [scroll, setScroll] = useState({ x: 0, y: 0 });

  useEffect(() => {
    const element = ref.current;
    if (!element) return;

    const handleScroll = () => {
      setScroll({
        x: element.scrollLeft,
        y: element.scrollTop,
      });
    };

    element.addEventListener('scroll', handleScroll);
    return () => element.removeEventListener('scroll', handleScroll);
  }, [ref]);

  return scroll;
}

export default useScroll;
```

## 3. 使用示例

```tsx
const ref = useRef(null);
const { x, y } = useScroll(ref);
return <div ref={ref} style={{ overflow: 'auto' }}>...</div>;
```

## 4. 常见问题

- **性能**：滚动事件触发频繁，建议配合节流使用。
