# 18.5 路由最佳实践


## 1. 路由配置化 (useRoutes)

对于大型应用，集中式配置比 JSX 嵌套更易管理。

```tsx
import { useRoutes } from 'react-router-dom';

const routes = [
  {
    path: '/',
    element: <Layout />,
    children: [
      { index: true, element: <Home /> },
      { path: 'about', element: <About /> },
    ],
  },
];

function App() {
  const element = useRoutes(routes);
  return element;
}
```

## 2. 路由状态持久化

在页面刷新或跳转后保持滚动位置。

```tsx
function ScrollToTop() {
  const { pathname } = useLocation();
  
  useEffect(() => {
    window.scrollTo(0, 0);
  }, [pathname]);
  
  return null;
}
```

## 3. SEO 优化

- **React Helmet**：动态修改 `<title>` 和 `<meta>` 标签。
- **SSR / SSG**：Next.js 或 Remix 是更好的选择。

## 4. 404 页面

```tsx
<Route path="*" element={<NotFound />} />
```
