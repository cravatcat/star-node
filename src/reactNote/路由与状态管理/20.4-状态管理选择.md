# 20.4 状态管理方案选择


## 决策树

1. **这仅仅是简单的 UI 状态吗？** (如 Modal 开关、表单输入)
   - 是 -> `useState` / `useReducer`

2. **需要在组件树深处共享，且更新频率低吗？** (如 主题、用户信息)
   - 是 -> `Context API`

3. **需要避免 Context 的无谓渲染，或者需要在组件外访问状态吗？**
   - 是 -> 继续

4. **应用规模？**
   - **中小型 / 个人项目 / 追求敏捷** -> **Zustand** (首选)
   - **大型 / 企业级 / 团队习惯 Flux** -> **Redux Toolkit**
   - **强交互 / 图形应用 / 状态依赖复杂** -> **Jotai** / **Recoil**

## 总结

- **Zustand**: 2024+ 最推荐的通用方案。API 简洁，性能好，心智负担小。
- **Redux Toolkit**: 工业标准，生态最强，适合大型团队。
- **Jotai**: React 理念的极致体现，适合细粒度更新的场景。
- **Context**: 够用就好，不要过早引入库。
