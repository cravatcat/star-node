# 68. 有效的括号

## 题目描述

给定一个只包括 `'('`，`')'`，`'{'`，`'}'`，`'['`，`']'` 的字符串 `s` ，判断字符串是否有效。

有效字符串需满足：
1. 左括号必须用相同类型的右括号闭合。
2. 左括号必须以正确的顺序闭合。
3. 每个右括号都有一个对应的相同类型的左括号。

**示例 1：**

```text
输入：s = "()"
输出：true
```

**示例 2：**

```text
输入：s = "()[]{}"
输出：true
```

**示例 3：**

```text
输入：s = "(]"
输出：false
```

## 实现思路

这是一个典型的栈（Stack）应用题。

我们可以遍历字符串 `s`：
1. 如果遇到左括号 `(`、`[`、`{`，将其压入栈中。
2. 如果遇到右括号 `)`、`]`、`}`，我们需要检查栈顶的元素是否是对应的左括号。
   - 如果栈为空，或者栈顶元素不是对应的左括号，则字符串无效。
   - 如果匹配，则将栈顶元素弹出，继续遍历。

遍历结束后，如果栈为空，说明所有左括号都正确闭合了，返回 `true`；否则返回 `false`。

为了方便判断括号的对应关系，我们可以使用一个哈希表来存储右括号到左括号的映射。

## 代码实现

```typescript
export function isValid(s: string): boolean {
  const stack: string[] = [];
  const map: Record<string, string> = {
    ')': '(',
    ']': '[',
    '}': '{'
  };

  for (const char of s) {
    if (char in map) {
      // 如果是右括号，检查栈顶元素是否匹配
      const topElement = stack.length > 0 ? stack.pop() : '#';
      if (map[char] !== topElement) {
        return false;
      }
    } else {
      // 如果是左括号，入栈
      stack.push(char);
    }
  }

  return stack.length === 0;
}
```

## 复杂度分析

- **时间复杂度**：O(n)，其中 n 是字符串的长度。我们只需要遍历一次字符串。
- **空间复杂度**：O(n)，在最坏情况下（例如全是左括号），栈的大小为 O(n)。
