# 无重复字符的最长子串 (Longest Substring Without Repeating Characters)

## 1. 题目描述

给定一个字符串 `s` ，请你找出其中不含有重复字符的 **最长子串** 的长度。

**示例 1:**

> **输入:** s = "abcabcbb"  
> **输出:** 3  
> **解释:** 因为无重复字符的最长子串是 "abc"，所以其长度为 3。

**示例 2:**

> **输入:** s = "bbbbb"  
> **输出:** 1  
> **解释:** 因为无重复字符的最长子串是 "b"，所以其长度为 1。

**示例 3:**

> **输入:** s = "pwwkew"  
> **输出:** 3  
> **解释:** 因为无重复字符的最长子串是 "wke"，所以其长度为 3。  
> 请注意，你的答案必须是 **子串** 的长度，"pwke" 是一个子序列，不是子串。

## 2. 实现思路

这道题是典型的 **滑动窗口** 问题。

我们需要维护一个窗口 `[left, right]`，保证窗口内的字符都是不重复的。
1.  我们使用一个 **哈希表 (Map)** 来记录字符上一次出现的位置。
2.  遍历字符串，用 `right` 指针指向当前字符。
3.  如果当前字符 `s[right]` 之前出现过，并且出现的位置在当前窗口内（即 `map.get(s[right]) >= left`），说明窗口内出现了重复字符。
    *   此时，我们需要收缩窗口左边界，将 `left` 移动到重复字符的下一位：`left = map.get(s[right]) + 1`。
    *   **注意**：为了防止 `left` 回退（例如在 "abba" 的情况），我们需要取 `max(left, map.get(s[right]) + 1)`。
4.  更新哈希表，记录当前字符的最新位置：`map.set(s[right], right)`。
5.  计算当前窗口长度 `right - left + 1`，并更新最大长度 `maxLen`。

## 3. 详细步骤

1.  初始化 `map` 用于存储字符索引。
2.  初始化 `left = 0`，`maxLen = 0`。
3.  遍历字符串，`right` 从 `0` 到 `s.length - 1`：
    *   获取当前字符 `char = s[right]`。
    *   如果 `map` 中包含 `char`：
        *   更新 `left` 指针：`left = Math.max(left, map.get(char) + 1)`。
    *   更新 `map` 中 `char` 的位置为 `right`。
    *   更新 `maxLen = Math.max(maxLen, right - left + 1)`。
4.  返回 `maxLen`。

## 4. 代码实现 (TypeScript)

```typescript
function lengthOfLongestSubstring(s: string): number {
    const map = new Map<string, number>();
    let maxLen = 0;
    let left = 0;

    for (let right = 0; right < s.length; right++) {
        const char = s[right];
        if (map.has(char)) {
            // 如果字符在窗口内出现过，将左边界移动到该字符上一次出现位置的下一位
            // 使用 Math.max 是为了防止 left 指针回退
            // 例如 "abba"，遇到第二个 'a' 时，map.get('a') 是 0，但 left 已经是 2 了
            left = Math.max(left, map.get(char)! + 1);
        }
        // 记录/更新字符最后出现的位置
        map.set(char, right);
        // 更新最大长度
        maxLen = Math.max(maxLen, right - left + 1);
    }

    return maxLen;
};
```

## 5. 复杂度分析

*   **时间复杂度**: $O(n)$。
    *   我们只需要遍历一次字符串，`right` 指针移动 $n$ 次，`left` 指针也最多移动 $n$ 次。
*   **空间复杂度**: $O(|\Sigma|)$。
    *   $|\Sigma|$ 是字符集的大小。Map 中最多存储字符集大小个键值对。
