# 盛最多水的容器 (Container With Most Water)

## 1. 题目描述

给定一个长度为 `n` 的整数数组 `height` 。有 `n` 条垂线，第 `i` 条线的两个端点是 `(i, 0)` 和 `(i, height[i])` 。

找出其中的两条线，使得它们与 `x` 轴共同构成的容器可以容纳最多的水。

返回容器可以储存的最大水量。

**说明**：你不能倾斜容器。

**示例 1:**

![question_11.jpg](https://aliyun-lc-upload.oss-cn-hangzhou.aliyuncs.com/aliyun-lc-upload/uploads/2018/07/25/question_11.jpg)

> **输入:** [1,8,6,2,5,4,8,3,7]  
> **输出:** 49  
> **解释:** 图中垂直线代表输入数组 [1,8,6,2,5,4,8,3,7]。在此情况下，容器能够容纳水（表示为蓝色部分）的最大值为 49。

**示例 2:**

> **输入:** height = [1,1]  
> **输出:** 1

## 2. 实现思路

本题要求找到两个柱子，使得它们与 X 轴围成的面积最大。面积公式为：
$$ Area = \min(height[left], height[right]) \times (right - left) $$

我们可以使用 **双指针** 法来解决这个问题：

1. 定义两个指针 `left` 和 `right`，分别指向数组的头和尾。
2. 计算当前的面积，并更新最大面积 `max`。
3. **移动指针的策略**：
    * 容器的高度取决于较短的那根柱子。
    * 如果移动 **较高** 的柱子，宽度减小，而高度不可能增加（受限于较矮的柱子），所以面积一定变小或不变。
    * 如果移动 **较矮** 的柱子，宽度减小，但高度可能增加，从而可能得到更大的面积。
    * 因此，我们需要每次移动 **高度较小** 的那个指针，以期找到更高的柱子。

## 3. 详细步骤

1. 初始化 `left` 指向数组开头 `0`，`right` 指向数组末尾 `n-1`。
2. 初始化 `max` 为 0。
3. 当 `left < right` 时，循环执行：
    * 计算当前宽度 `w = right - left`。
    * 计算当前高度 `h = min(height[left], height[right])`。
    * 计算当前面积 `area = w * h`，并尝试更新 `max`。
    * 比较 `height[left]` 和 `height[right]`：
        * 如果 `height[left] < height[right]`，则 `left++`。
        * 否则，`right--`。
4. 返回 `max`。

## 4. 代码实现 (TypeScript)

```typescript
function maxArea(height: number[]): number {
  let left = 0, right = height.length - 1;
  let max = 0;
  
  while (left < right) {
    // 计算当前容器的高度和宽度
    const h = Math.min(height[left], height[right]);
    const w = right - left;
    
    // 更新最大面积
    max = Math.max(max, h * w);
    
    // 移动较矮的柱子，因为只有移动较矮的柱子才有可能使高度增加
    if (height[left] < height[right]) {
      left++;
    } else {
      right--;
    }
  }
  return max;
};
```

## 5. 复杂度分析

* **时间复杂度**: $O(n)$。
  * 双指针总共遍历一次数组，每个元素最多被访问一次。
* **空间复杂度**: $O(1)$。
  * 只需要常数级别的额外空间来存储指针和变量。
